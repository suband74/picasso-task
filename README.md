# Проект в виде консольной утилиты для работы с базой данных.

- Проект содержит:
  - Скрипт для создания схемы базы данных
  - Скрипт для загрузки данных в базу `postgres` из файла `csv`
  - Скрипт для получения всех данных из базы с фильтрацией
  - Скрипт для получения данных из базы по 20 шт с фильтрацией
  - LOG-файл с выводом результата работы скрипта


### Установка проекта на локальный компьютер

1. Должен быть предустановлен менеджер зависимостей `poetry`. Или установите `poetry` любым удобным способом. 
   Например: `curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -` 
2. Выполните клонирование репозитория: `git clone https://github.com/suband74/picasso-task.git`
3. Затем выполните установку зависимостей проекта: `poetry install`
4. Скопируйте в папку `picasso-task` распакованный файл `police-department-calls-for-service.csv` и задайте себе права для чтения `chmod ugo+r police-department-calls-for-service.csv`
5. Запустите `postgres` и создайте БД
6. В папке `picasso-task` создайте файл `.env` и пропишите там следующие значения: `DATABASE, USER_DB, PASSWORD, HOST = "localhost" PORT = "5432"` доступа к вашей БД 


### Основной модуль.

- Создать таблицу `police` в БД - `python src/picasso_task/cr_db.py`
- Скопировать данные из `csv-file` в таблицу `police` - `python src/picasso_task/ins_db.py`. Скрипт отображает процесс загрузки и в результате отображает кол-во созданных записей и потраченное время.
- Получить все данные из таблицы с фильтрацией по дате (указать две даты) - `python src/picasso_task/all.py`. Пример ввода даты `2016-04-02 00:00:00`
- Получить 20 позиций, начиная с нужной, из таблицы с фильтрацией по дате (указать две даты и номер начальной записи) - `python src/picasso_task/pages.py`
   